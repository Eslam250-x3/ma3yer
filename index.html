<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุงูุฏููู ุงูุชูุงุนูู ุงููุงูู ููุญูู ุงูุฃุณุฆูุฉ ุงูุฐูู</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Tajawal', sans-serif;
            background-color: #f8fafc;
        }
        html[lang="en"] body {
            font-family: 'Inter', sans-serif;
        }
        .gradient-text {
            background: linear-gradient(135deg, #4f46e5, #a855f7);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .tab-btn.active {
            border-color: #6d28d9;
            background-color: #ede9fe;
            color: #6d28d9;
            font-weight: 700;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s ease-in-out;
        }
        .prompt-code {
            position: relative;
        }
        .copy-btn {
            position: absolute;
            top: 12px;
            left: 12px;
            background-color: rgba(255, 255, 255, 0.1);
            color: #e2e8f0;
            border: 1px solid #475569;
            padding: 6px 10px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            backdrop-filter: blur(5px);
            display: flex;
            align-items: center;
            gap: 4px;
        }
        html[dir="ltr"] .copy-btn {
            left: auto;
            right: 12px;
        }
        .copy-btn:hover {
            background-color: rgba(255, 255, 255, 0.2);
            border-color: #94a3b8;
        }
        .accordion-header.active .accordion-icon {
            transform: rotate(180deg);
        }
        .prose {
            line-height: 1.7;
        }
        .prose ul {
            list-style-position: inside;
            padding-right: 1rem;
        }
        html[lang="en"] .prose ul {
            padding-right: 0;
            padding-left: 1rem;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .glow-card {
            box-shadow: 0 4px 20px rgba(79, 70, 229, 0.15);
            transition: all 0.3s ease;
        }
        .glow-card:hover {
            box-shadow: 0 8px 30px rgba(79, 70, 229, 0.25);
            transform: translateY(-2px);
        }
        .wave-bg {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            overflow: hidden;
            line-height: 0;
            z-index: -1;
        }
        .wave-bg svg {
            position: relative;
            display: block;
            width: calc(100% + 1.3px);
            height: 150px;
        }
        .wave-bg .shape-fill {
            fill: rgba(79, 70, 229, 0.05);
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 relative">
    <div class="wave-bg">
        <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
            <path d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z" class="shape-fill"></path>
        </svg>
    </div>
    
    <div class="container mx-auto p-4 sm:p-6 lg:p-8 max-w-7xl">
        <!-- Header -->
        <header class="text-center mb-12 relative">
            <button id="lang-switcher" class="absolute top-0 right-0 bg-white border-2 border-purple-200 text-purple-700 font-bold py-2 px-4 rounded-lg hover:bg-purple-50 transition-colors duration-300 flex items-center gap-2">
                <i class="fas fa-language"></i>
                <span>English</span>
            </button>
            <div class="inline-block bg-gradient-to-r from-purple-500 to-pink-500 p-1 rounded-full mb-6">
                <div class="bg-white p-1 rounded-full">
                    <i class="fas fa-robot text-4xl bg-gradient-to-r from-purple-500 to-pink-500 bg-clip-text text-transparent"></i>
                </div>
            </div>
            <h1 id="main-title" class="text-4xl md:text-6xl font-extrabold gradient-text mb-4">
                <!-- Populated by JS -->
            </h1>
            <p id="main-subtitle" class="text-lg md:text-xl text-slate-600 max-w-3xl mx-auto">
                <!-- Populated by JS -->
            </p>
        </header>

        <!-- Tabs Navigation -->
        <div class="mb-8 bg-white p-2 rounded-xl shadow-md border border-slate-200 glow-card">
            <nav id="tabs" class="grid grid-cols-2 lg:grid-cols-5 gap-2">
                <!-- Tab buttons will be populated by JS -->
            </nav>
        </div>

        <!-- Tabs Content -->
        <main id="tab-contents">
            <!-- Guide Tab -->
            <div id="guide" class="tab-content active space-y-8">
                <div class="bg-white p-6 rounded-2xl shadow-lg border border-slate-200 glow-card">
                    <h2 id="guide-title-1" class="text-3xl font-bold mb-6 text-purple-800 flex items-center gap-3"></h2>
                    <div id="accordion-container" class="space-y-3"></div>
                </div>
                <div class="bg-white p-6 rounded-2xl shadow-lg border border-slate-200 glow-card">
                    <h2 id="guide-title-2" class="text-3xl font-bold mb-6 text-purple-800 flex items-center gap-3"></h2>
                    <div class="overflow-x-auto">
                        <table class="w-full text-right border-collapse">
                            <thead id="tags-table-head"></thead>
                            <tbody id="tags-table-body"></tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Workflow Tab -->
            <div id="workflow" class="tab-content">
                <div class="bg-white p-6 rounded-2xl shadow-lg border border-slate-200 glow-card">
                    <h2 id="workflow-title" class="text-3xl font-bold mb-6 text-purple-800"></h2>
                    <div class="space-y-8" id="workflow-container"></div>
                </div>
            </div>

            <!-- Advanced Tab -->
            <div id="advanced" class="tab-content">
                <div class="bg-white p-6 rounded-2xl shadow-lg border border-slate-200 glow-card">
                    <h2 id="advanced-title" class="text-3xl font-bold mb-6 text-purple-800"></h2>
                    <div class="space-y-4" id="advanced-accordion"></div>
                </div>
            </div>

            <!-- Prompts Tab -->
            <div id="prompts" class="tab-content space-y-8">
                <div class="bg-white p-6 rounded-2xl shadow-lg border border-slate-200 glow-card">
                    <h2 id="prompts-title-1" class="text-3xl font-bold mb-2 text-purple-800"></h2>
                    <p id="prompts-subtitle-1" class="mb-4 text-slate-600"></p>
                    <div id="master-prompt-container"></div>
                </div>
                <div class="bg-white p-6 rounded-2xl shadow-lg border border-slate-200 glow-card">
                    <h2 id="prompts-title-2" class="text-3xl font-bold mb-2 text-purple-800"></h2>
                    <p id="prompts-subtitle-2" class="mb-4 text-slate-600"></p>
                    <div class="grid md:grid-cols-2 gap-6" id="specific-prompts-container"></div>
                </div>
            </div>

            <!-- FAQ Tab -->
            <div id="faq" class="tab-content">
                <div class="bg-white p-6 rounded-2xl shadow-lg border border-slate-200 glow-card">
                    <h2 id="faq-title" class="text-3xl font-bold mb-6 text-purple-800"></h2>
                    <div class="space-y-4" id="faq-container"></div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="text-center mt-12 text-slate-500">
            <div class="flex justify-center gap-4 mb-4">
                <a href="#" class="text-purple-600 hover:text-purple-800"><i class="fab fa-twitter"></i></a>
                <a href="#" class="text-purple-600 hover:text-purple-800"><i class="fab fa-github"></i></a>
                <a href="#" class="text-purple-600 hover:text-purple-800"><i class="fab fa-linkedin"></i></a>
            </div>
            <p id="footer-p1"></p>
            <p id="footer-p2"></p>
        </footer>
    </div>

    <script>
        // --- DATA & TRANSLATIONS ---
        const questionTypes = [
            { id: 'mcq', name: '1. ุณุคุงู ุงูุงุฎุชูุงุฑ ูู ูุชุนุฏุฏ (MCQ)', desc: 'ููุณุชุฎุฏู ุนูุฏูุง ูููู ููุงู ุฅุฌุงุจุฉ ุตุญูุญุฉ ูุงุญุฏุฉ ููุท ูู ุจูู ุนุฏุฉ ุฎูุงุฑุงุช.', format: 'type: mcq\n[STEM]\nูุต ุงูุณุคุงู...\n[CHOICES]\n* ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ\n- ุฅุฌุงุจุฉ ุฎุงุทุฆุฉ', exampleSimple: 'type: mcq\n[STEM]\nูู ุฃู ูุงุฑุฉ ุชูุน ูุตุฑุ\n[CHOICES]\n- ุขุณูุง\n* ุฃูุฑูููุง\n- ุฃูุฑูุจุง', exampleLesson: 'type: mcq\n[STEM]\nูุง ูู ุงูุตูุบุฉ ุงูุนุงูุฉ ููุฏุงูุฉ ุงูุชุฑุจูุนูุฉุ\n[CHOICES]\n- f(x) = ax + b\n* f(x) = axยฒ + bx + c\n- f(x) = a/x' },
            { id: 'mrq', name: '2. ุณุคุงู ุงูุฅุฌุงุจุงุช ุงููุชุนุฏุฏุฉ (MRQ)', desc: 'ููุณุชุฎุฏู ุนูุฏูุง ูููู ุฃู ูููู ููุงู ุฃูุซุฑ ูู ุฅุฌุงุจุฉ ุตุญูุญุฉ ูุงุญุฏุฉ.', format: 'type: mrq\n[STEM]\nูุต ุงูุณุคุงู...\n[CHOICES]\n* ุฅุฌุงุจุฉ ุตุญูุญุฉ 1\n- ุฅุฌุงุจุฉ ุฎุงุทุฆุฉ\n* ุฅุฌุงุจุฉ ุตุญูุญุฉ 2', exampleSimple: 'type: mrq\n[STEM]\nุงุฎุชุฑ ุงูููุงูู:\n[CHOICES]\n* ุชูุงุญ\n* ููุฒ\n- ุฌุฒุฑ', exampleLesson: 'type: mrq\n[STEM]\nูุง ูู ุฎุตุงุฆุต ุงูุฏุงูุฉ ุงูุชุฑุจูุนูุฉุ\n[CHOICES]\n* ููุง ููุฉ ุฃู ูุงุน\n- ุฏุงุฆููุง ุชุตุงุนุฏูุฉ\n* ุชุชูุงุทุน ูุน ุงููุญูุฑ y ูุฑุฉ ูุงุญุฏุฉ' },
            { id: 'matching', name: '3. ุณุคุงู ุงูุชูุตูู (Matching)', desc: 'ููุณุชุฎุฏู ููุฑุจุท ุจูู ุนูุงุตุฑ ูู ูุฌููุนุชูู.', format: 'type: matching\n[STEM]\nูุต ุงูุณุคุงู...\n[MATCHING_PAIRS]\nุนูุตุฑ 1 | ุงุฑุชุจุงุทู ุงูุตุญูุญ', exampleSimple: 'type: matching\n[STEM]\nุตู ุงูุญููุงูุงุช ุจุฃุตูุงุชูุง:\n[MATCHING_PAIRS]\nููุจ | ูุจุงุญ\nูุท | ููุงุก', exampleLesson: 'type: matching\n[STEM]\nุตู ุงูุฏุงูุฉ ุจูุตููุง:\n[MATCHING_PAIRS]\nf(x)=xยฒ | ุชุฑุจูุนูุฉ\nf(x)=2x | ุฎุทูุฉ' },
            { id: 'gapText', name: '4. ุณุคุงู ููุก ุงููุฑุงุบุงุช (Gap Text)', desc: 'ููุณุชุฎุฏู ูุงุฎุชุจุงุฑ ูุนุฑูุฉ ูููุงุช ูุญุฏุฏุฉ ุฏุงุฎู ุณูุงู.', format: 'type: gapText\n[STEM]\nุงููุต ูุญุชูู ุนูู [BLANK]...\n[GAPS]\nุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ', exampleSimple: 'type: gapText\n[STEM]\nุงูุดูุณ [BLANK] ูู ุงูุณูุงุก.\n[GAPS]\nุชุดุฑู', exampleLesson: 'type: gapText\n[STEM]\nุงูุฏุงูุฉ f(x) = xยฒ + [BLANK] x + 4 ููุง ุฌุฐูุฑ [BLANK].\n[GAPS]\n4\nุญููููุฉ ููุชุณุงููุฉ' },
            { id: 'oq', name: '5. ุณุคุงู ุงูุชุฑุชูุจ (Ordering)', desc: 'ููุณุชุฎุฏู ูุชุฑุชูุจ ูุฌููุนุฉ ูู ุงูุนูุงุตุฑ ูููุงู ููุนูุงุฑ ูุนูู.', format: 'type: oq\n[STEM]\nูุต ุงูุณุคุงู...\n[CHOICES]\n- ุงูุนูุตุฑ ุงูุฃูู ุจุงูุชุฑุชูุจ\n- ุงูุนูุตุฑ ุงูุซุงูู ุจุงูุชุฑุชูุจ', exampleSimple: 'type: oq\n[STEM]\nุฑุชุจ ุงูุฃุฑูุงู ุชุตุงุนุฏูุงู:\n[CHOICES]\n- 1\n- 2\n- 3', exampleLesson: 'type: oq\n[STEM]\nุฑุชุจ ุฎุทูุงุช ุญู ุงูุฏุงูุฉ ุงูุชุฑุจูุนูุฉ:\n[CHOICES]\n- ุญุณุงุจ ุงููููุฒ\n- ุญุณุงุจ ุงูุฌุฐูุฑ\n- ุฑุณู ุงูููุญูู' },
            { id: 'string', name: '6. ุณุคุงู ุงูุฅุฌุงุจุฉ ุงููุตูุฉ ุงููุตูุฑุฉ (String)', desc: 'ููุฃุณุฆูุฉ ุงูุชู ุชุชุทูุจ ุฅุฌุงุจุฉ ูุตูุฑุฉ ููุญุฏุฏุฉ ุฌุฏุงู.', format: 'type: string\n[STEM]\nูุต ุงูุณุคุงู...\n[ANSWER]\nุงูุฅุฌุงุจุฉ ุงูุฏูููุฉ', exampleSimple: 'type: string\n[STEM]\nูุง ุงุณู ูููุจูุงุ\n[ANSWER]\nุงูุฃุฑุถ', exampleLesson: 'type: string\n[STEM]\nูุง ูู ูุนุงูู a ูู f(x)=3xยฒุ\n[ANSWER]\n3' },
            { id: 'frq', name: '7. ุณุคุงู ุงูุฅุฌุงุจุฉ ุงูุญุฑุฉ (FRQ)', desc: 'ููุฃุณุฆูุฉ ุงูููุงููุฉ ุงูุชู ุชุชุทูุจ ุฅุฌุงุจุฉ ุทูููุฉ ูููุตูุฉ.', format: 'type: frq\n[STEM]\nูุต ุงูุณุคุงู...\n[ANSWER]\nุงูุฅุฌุงุจุฉ ุงููููุฐุฌูุฉ', exampleSimple: 'type: frq\n[STEM]\nุตู ุงูุทูุณ ุงูููู.\n[ANSWER]\nูุดูุณ ูุฏุงูุฆ.', exampleLesson: 'type: frq\n[STEM]\nุงุดุฑุญ ููู ุชุญู ูุนุงุฏูุฉ axยฒ+bx+c=0.\n[ANSWER]\nุงุณุชุฎุฏู ุงูุตูุบุฉ x=[-bยฑsqrt(bยฒ-4ac)]/(2a)' },
            { id: 'frq_ai', name: '8. ุณุคุงู ุงูุฅุฌุงุจุฉ ุงูุญุฑุฉ ุจุชุตุญูุญ AI (FRQ_AI)', desc: 'ููุณ FRQุ ููููู ูุฎุตุต ููุชุตุญูุญ ุงูุชููุงุฆู ุจูุงุณุทุฉ AI.', format: 'type: frq_ai\nai_template_id: 123...\n[STEM]\nูุต ุงูุณุคุงู...\n[ANSWER]\nุงูุฅุฌุงุจุฉ ุงููููุฐุฌูุฉ', exampleSimple: 'type: frq_ai\nai_template_id: 123\n[STEM]\nุงูุชุจ ูุตูุฏุฉ.\n[ANSWER]\nุงููุฑุฏ ุฃุญูุฑ...', exampleLesson: 'type: frq_ai\nai_template_id: 456\n[STEM]\nุญู ุงููุนุงุฏูุฉ xยฒ-4x+3=0 ูุงุดุฑุญ.\n[ANSWER]\n(x-1)(x-3)=0ุ ุฌุฐูุฑ 1 ู3.' },
            { id: 'input_box', name: '9. ุณุคุงู ุฅุฏุฎุงู ุงูุฑูู (Input Box)', desc: 'ููุฃุณุฆูุฉ ุงูุชู ุชููู ุฅุฌุงุจุชูุง ุฑููุงู ูุญุฏุฏุงูุ ูุน ุฅููุงููุฉ ุชุญุฏูุฏ ูุญุฏุฉ.', format: 'type: input_box\n[STEM]\nูุต ุงูุณุคุงู...\n[ANSWER]\nุงููููุฉ | ุงููุญุฏุฉ', exampleSimple: 'type: input_box\n[STEM]\nูุง ุณุฑุนุฉ ุงูุณูุงุฑุฉุ\n[ANSWER]\n100 | ูู/ุณ', exampleLesson: 'type: input_box\n[STEM]\nูุง ุชุณุงุฑุน ุงูุฌุงุฐุจูุฉุ\n[ANSWER]\n9.8 | ู/ุซยฒ' },
            { id: 'multipart', name: '10. ุงูุฃุณุฆูุฉ ูุชุนุฏุฏุฉ ุงูุฃุฌุฒุงุก (Multi-part)', desc: 'ูููู ูุชุฌููุน ุนุฏุฉ ุฃุณุฆูุฉ ุชุญุช ููุฏูุฉ ูุงุญุฏุฉ.', format: '[STATEMENT]\nุงูููุฏูุฉ ุงููุดุชุฑูุฉ...\n\n[PART]\ntype: mcq\n[STEM]\nุงูุณุคุงู ุงูุฃูู...\n\n[PART]\ntype: string\n[STEM]\nุงูุณุคุงู ุงูุซุงูู...', exampleSimple: '', exampleLesson: '' }
        ];

        const tags = [
            { tag: '`[STEM]`', desc: 'ูุญุชูู ุนูู ูุต ุงูุณุคุงู ุงูุฑุฆูุณู.', example: '`[STEM]\nูุง ูู ุตูุบุฉ ุญุณุงุจ ุงูุณุฑุนุฉุ`' },
            { tag: '`[CHOICES]`', desc: 'ูุญุชูู ุนูู ูุงุฆูุฉ ุงูุงุฎุชูุงุฑุงุช.', example: '`[CHOICES]\n* v = d/t\n- v = d*t`' },
            { tag: '`[ANSWER]`', desc: 'ูุญุชูู ุนูู ุงูุฅุฌุงุจุฉ ูุฃุณุฆูุฉ `String`, `FRQ`, ู `Input Box`.', example: '`[ANSWER]\n9.8 | m/sยฒ`' },
            { tag: '`[GAPS]`', desc: 'ูุญุชูู ุนูู ุฅุฌุงุจุงุช ุงููุฑุงุบุงุช ุจุงูุชุฑุชูุจุ ูู ุฅุฌุงุจุฉ ูู ุณุทุฑ.', example: '`[GAPS]\nุงูุชุณุงุฑุน\n9.8`' },
            { tag: '`[MATCHING_PAIRS]`', desc: 'ูุญุชูู ุนูู ุฃุฒูุงุฌ ุงูุชูุตููุ ููุตููุฉ ุจู `|`.', example: '`[MATCHING_PAIRS]\nูููุชู | ุงูููุฉ`' },
            { tag: '`[BLANK]`', desc: 'ููุซู ูุฑุงุบุงู ุฏุงุฎู ูุต ุงูุณุคุงู ููุชู ููุคู.', example: '`ุงูููุฉ = ุงููุชูุฉ ร [BLANK].`' },
            { tag: '`[STATEMENT]`', desc: 'ูุญุชูู ุนูู ุงูููุฏูุฉ ูุณุคุงู ูุชุนุฏุฏ ุงูุฃุฌุฒุงุก.', example: '`[STATEMENT]\nุจุงููุธุฑ ุฅูู ููุงููู ุงูุญุฑูุฉ...`' },
            { tag: '`[PART]`', desc: 'ูุนูู ููุงุตู ุจูู ุฃุฌุฒุงุก ุงูุณุคุงู ูุชุนุฏุฏ ุงูุฃุฌุฒุงุก.', example: '`[PART]\ntype: mcq\n...`' },
            { tag: '`[U]...[/U]`', desc: 'ูุณุชุฎุฏู ููุถุน ุฎุท ุชุญุช ุงููุต ููุชุฃููุฏ.', example: '`[U]ุงูุชุณุงุฑุน ูู 9.8 ู/ุซยฒ[/U]`' },
            { tag: '`---`', desc: '**ูุงุตู ุฅูุฒุงูู** ุจูู ูู ุณุคุงู ูุงูุขุฎุฑ.', example: '`---` (ููุถุน ุจุนุฏ ูู ุณุคุงู ููุชูู).' }
        ];

        const workflowSteps = [
            { title: 'ุงูุณููุงุฑูู ุงูุฃูู: ุงูุทุฑููุฉ ุงูููุงุณูุฉ (ุงูุฃุฏู)', icon: '๐ฏ', content: 'ูู ุงูุทุฑููุฉ ุงูููุตู ุจูุง ูุชุถูู ูุชุงุฆุฌ 100% ุตุญูุญุฉ. ุชุนุชูุฏ ุนูู ูุชุงุจุฉ ุงูุณุคุงู ุจุงุณุชุฎุฏุงู "ูุณูู" (Tags) ุจุณูุทุฉ ููุญุฏุฏุฉ ูุซู `type: mcq`, `[STEM]`, `[CHOICES]`, ูุงุณุชุฎุฏุงู `---` ูููุตู ุจูู ุงูุฃุณุฆูุฉ. ุจุนุฏ ุงููุชุงุจุฉุ ุงุถุบุท "ุชุญููู ุฐูู" ูููุนุงููุฉุ ุซู "ุชุญููู ูู JSON" ูููุชูุฌุฉ ุงูููุงุฆูุฉ.' },
            { title: 'ุงูุณููุงุฑูู ุงูุซุงูู: ุงูุชุนุงูู ูุน ุงููุตูุต ุงูุฌุงูุฒุฉ (ุจูุณุงุนุฏุฉ AI)', icon: 'โจ', content: 'ุฅุฐุง ูุงู ูุฏูู ูุต ุบูุฑ ููุธู (ูุซู ูุต ูู ููู Word)ุ ุงูุตูู ูู ุงููุญุฑุฑ ูุงุถุบุท ุนูู ุฒุฑ "๐ ุชุญุณูู ุจุงูู AI". ุณูููู ุงูุฐูุงุก ุงูุงุตุทูุงุนู ุจุฅุนุงุฏุฉ ููููุฉ ุงููุต ุจุงูุชูุณูู ุงูููุงุณูุ ูุจุนุฏูุง ููููู ุงููุชุงุจุนุฉ ุจุงูุถุบุท ุนูู "ุชุญููู ุฐูู". (ูุฐู ุงูููุฒุฉ ุชุชุทูุจ ููุชุงุญ API).' },
            { title: 'ุงูุณููุงุฑูู ุงูุซุงูุซ: ุชูููุฏ ุฃุณุฆูุฉ ูู ุงูุนุฏู', icon: '๐', content: 'ุฅุฐุง ูุงู ูุฏูู ูุญุชูู (ูุซู ููุฑุฉ ูู ุฏุฑุณ) ูุชุฑูุฏ ุฅูุดุงุก ุฃุณุฆูุฉ ุนููุ ุงุถุบุท "๐ ุชูููุฏ ุฃุณุฆูุฉ". ูู ุงููุงูุฐุฉ ุงูุฌุฏูุฏุฉุ ุงูุตู ุงููุต ุฃู ุงุฑูุน ุตูุฑุฉุ ุซู ุญุฏุฏ ุนุฏุฏ ูููุน ุงูุฃุณุฆูุฉ ุงููุทููุจุฉ. ุณูููู ุงูุฐูุงุก ุงูุงุตุทูุงุนู ุจุฅูุดุงุก ุงูุฃุณุฆูุฉ ูุฅุถุงูุชูุง ูููุญุฑุฑ. (ูุฐู ุงูููุฒุฉ ุชุชุทูุจ ููุชุงุญ API).' }
        ];

        const faqs = [
            { q: 'ุฃุฒุฑุงุฑ ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูุง ุชุนูู ุฃู ุชุนุทู ุฎุทุฃ.', a: '99% ูู ุงูููุชุ ุงููุดููุฉ ุชููู ูู ููุชุงุญ ุงูู API. ุชุฃูุฏ ูู ุฃูู ููุช ุจูุตูู ุจุดูู ุตุญูุญ ูู ุงูุฎุงูุฉ ุงููุฎุตุตุฉุ ูุฃูู ูุง ุชูุฌุฏ ูุณุงูุงุช ุฅุถุงููุฉ ูู ุงูุจุฏุงูุฉ ุฃู ุงูููุงูุฉ.' },
            { q: '"ุงูุชุญููู ุงูุฐูู" ูุนุทู ูุชุงุฆุฌ ุบุฑูุจุฉ ุฃู ุฎุงุทุฆุฉ.', a: 'ุชุญูู ูู ุงููุต ุงูุฃุตูู. ูู ูุณูุช ูุถุน ุงููุงุตู `---` ุจูู ุงูุฃุณุฆูุฉุ ูู ููุงู ุฎุทุฃ ุฅููุงุฆู ูู ุฃุญุฏ ุงููุณูู (ูุซูุงู `[STME]` ุจุฏูุงู ูู `[STEM]`)ุ' },
            { q: 'ูุง ูุธูุฑ ุดูุก ุนูุฏ ุงูุถุบุท ุนูู "ุชุญููู ูู JSON".', a: 'ุชุฃูุฏ ูู ุฃูู ููุช ุจุงูุถุบุท ุนูู "ุชุญููู ุฐูู" ุฃููุงู ูุฃู ููุญุฉ ุงููุนุงููุฉ ุชุนุฑุถ ุงูุฃุณุฆูุฉ ุจุดูู ุตุญูุญ. ุงูุฃุฏุงุฉ ูู ุชุญูู ุดูุฆุงู ูู ูุชู ุชุญูููู ููุฑุงุฌุนุชู ุฃููุงู. ุงุจุญุซ ุนู ุนูุงูุฉ ุงูุชุญุฐูุฑ (โ๏ธ) ูู ุงููุนุงููุฉ.' },
            { q: 'ูุง ูู ุฃูุถู ุฎูุงุฑ ูุชุตุฏูุฑ ุนุฏุฉ ุฃุณุฆูุฉุ', a: 'ุงุณุชุฎุฏู ุฏุงุฆูุงู ุฒุฑ "๐๏ธ ุชุญููู ูู ZIP". ูุฐุง ุงูุฎูุงุฑ ูููู ุจุชุญููู ููู ูุถุบูุท ูุญุชูู ุนูู ูู ุณุคุงู ูู ููู .json ูููุตู ุจุงูุฅุถุงูุฉ ุฅูู ููู CSV ููุฎุตููุ ููู ุงูุฎูุงุฑ ุงูุฃูุณุจ ููุนูู ุงููุฌูุน.' }
        ];

        const advancedTopics = [
            { title: '"ุชุญุช ุงูุบุทุงุก": ููู ุชุนูู ุงูุฃุฏุงุฉุ', content: 'ุชุนูู ุงูุฃุฏุงุฉ ุนุจุฑ ุนุฏุฉ ูุฑุงุญู: <strong>1. ุงูุชูุณูู:</strong> ูุชู ุชูุณูู ุงููุต ุงููุจูุฑ ุฅูู ูุชู ุฃุณุฆูุฉ ูููุตูุฉ ุจุงุณุชุฎุฏุงู ุงููุงุตู `---`. <strong>2. ุงูุชุญููู (Parsing):</strong> ุชุณุชุฎุฏู ุงูุฃุฏุงุฉ ุชุนุงุจูุฑ ููุทูุฉ (Regex) ููุชุนุฑู ุนูู ุงููุณูู ูุซู `type:` ู `[STEM]` ูุงุณุชุฎูุงุต ุงููุญุชูู ุงูุฎุงุต ุจูู ุฌุฒุก. <strong>3. ุฅุฏุงุฑุฉ ุงูุญุงูุฉ:</strong> ูุชู ุชุฎุฒูู ุงูุฃุณุฆูุฉ ุงููุญููุฉ ูู ุงูุฐุงูุฑุฉ (ูุงุฆู JavaScript)ุ ููุง ูุณูุญ ุจุชุญุฏูุซ ุงููุนุงููุฉ ุจุดูู ููุฑู. <strong>4. ุงูุชุญููู ุฅูู JSON:</strong> ุนูุฏ ุงูุถุบุท ุนูู ุฒุฑ ุงูุชุญูููุ ูุง ูุชู ููุท ุชูุณูู ุงููุตุ ุจู ูุชู ุชุญููู ุงูุจูุงูุงุช ุงููุฎุฒูุฉ ุฅูู ูููู JSON ุงูููุงุฆู ุงููุทููุจ ูููุธุงูุ ูุน ุฅุถุงูุฉ ุจูุงูุงุช ูุตููุฉ (metadata) ูุซู ุงููุบุฉ ูุงูุฏููุฉ.'},
            { title: 'ูุตุงุฆุญ ูููุญุชุฑููู ูุฃุณุฑุงุฑ ุงูุฅูุชุงุฌูุฉ', content: '<ul><li class="mb-2"><strong>ุงูุชุญุฑูุฑ ุงููุจุงุดุฑ:</strong> ูู ุงููุนุงููุฉุ ููููู ุงูููุฑ ูุจุงุดุฑุฉ ุนูู ุฃู ุงุฎุชูุงุฑ ูู ุฃุณุฆูุฉ MCQ/MRQ ูุชุบููุฑ ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ ุจุฏูู ุชุนุฏูู ุงููุต ูุฏููุงู.</li><li class="mb-2"><strong>ุงูุชุนุฏูู ุงููุฌูุน ุจู CSV:</strong> ูุญุฑุฑ CSV ูู ุฃุณุฑุน ุทุฑููุฉ ูุชุนููู `Lesson ID` ุฃู `Question ID` ูุนุดุฑุงุช ุงูุฃุณุฆูุฉ ุฏูุนุฉ ูุงุญุฏุฉ.</li><li class="mb-2"><strong>ุงูุญูุธ ุงูุชููุงุฆู:</strong> ูุชู ุญูุธ ุนููู ูู `localStorage` ุจุงููุชุตูุญุ ูุฐุง ุนููู ุขูู ุฅุฐุง ุฃุบููุช ุงูุตูุญุฉุ ูููู ููุชุตุฑ ุนูู ูุฐุง ุงููุชุตูุญ ููุฐุง ุงูุฌูุงุฒ ููุท.</li><li class="mb-2"><strong>ุงุฎุชุตุงุฑ ุงูุฅุบูุงู:</strong> ุงุณุชุฎุฏู ููุชุงุญ `Esc` ูุฅุบูุงู ุฃู ูุงูุฐุฉ ููุจุซูุฉ (modal) ููุฑุงู.</li></ul>'},
            { title: 'ุฏููู ุงูุชุนุงูู ูุน ุงููุนุงุฏูุงุช (LaTeX)', content: 'ุงูุฃุฏุงุฉ ุชุณุชุฎุฏู ููุชุจุฉ MathLive ูุนุฑุถ ูุชุนุฏูู ุงููุนุงุฏูุงุช. <strong>ุงููุฑู ุงูุฃุณุงุณู:</strong> ุงุณุชุฎุฏู backticks ูุฑุฏูุฉ (` `) ูููุนุงุฏูุงุช ุงูุณุทุฑูุฉ (inline) ุงูุชู ุชุธูุฑ ูุณุท ุงููุตุ ูุงุณุชุฎุฏู backticks ูุฒุฏูุฌุฉ (`` ``) ูููุนุงุฏูุงุช ุงููุจูุฑุฉ ุงูุชู ุชุธูุฑ ูู ุณุทุฑ ูููุตู (display). ููููู ุงูููุฑ ุนูู ุฃู ูุนุงุฏูุฉ ูู ุงููุนุงููุฉ ููุชุญ ูุญุฑุฑ ูุฑุฆู ุณูู ุงูุงุณุชุฎุฏุงู.'},
            { title: 'ุดุฑุญ ุขููุฉ ุงูุชุญูู ูู ุงูุตุญุฉ (Validation)', content: 'ุฃููููุฉ ุงูุชุญุฐูุฑ (โ๏ธ) ุชุธูุฑ ุนูุฏูุง ุชูุชุดู ุงูุฃุฏุงุฉ ุฎุทุฃ ููุทููุงู ูู ุณุคุงูู. ูุชู ูุฐุง ุนุจุฑ ูุญุต ููุฑู ูููุต. <strong>ุฃุดูุฑ ุงูุฃุฎุทุงุก ุงูุชู ูุชู ูุดููุง:</strong> ุณุคุงู MCQ ุจุฏูู ุฃู ุฅุฌุงุจุฉ ุตุญูุญุฉ (*)ุ ุฃู ุณุคุงู ุชูุตูู (Matching) ูุญุชูู ุนูู ุณุทุฑ ูุง ููุตู ุจููู ุงูุฑูุฒ `|`. ูุฐู ุงูููุฒุฉ ุชุณุงุนุฏ ุนูู ููุน ุงูุฃุฎุทุงุก ูุจู ุชุตุฏูุฑ ุงูููู ุงูููุงุฆู.'},
            { title: 'ูููู ููู ุงูู ZIP ุงูููุตุฏููุฑ', content: 'ุนูุฏ ุงุณุชุฎุฏุงู ุฎูุงุฑ "ุชุญููู ูู ZIP"ุ ุณุชุญุตู ุนูู ููู ูุถุบูุท ูุญุชูู ุนูู: <br><strong>1. ูุฌูุฏ `JSONS`:</strong> ุจุฏุงุฎูู ูู ุณุคุงู ูููู `.json` ูููุตูุ ููุณูู ุจุงูู ID ุงูุฎุงุต ุจู. <br><strong>2. ููู `question_set_summary.csv`:</strong> ุฌุฏูู ุจูุงูุงุช ููุฎุต ูู ุงูุฃุณุฆูุฉ ูุจูุงูุงุชูุง ุงููุตููุฉ ูู ููุงู ูุงุญุฏ ูุชุณููู ุงููุฑุงุฌุนุฉ.'}
        ];

        const translations = {
            ar: {
                mainTitle: "๐ ุงูุฏููู ุงูุชูุงุนูู ุงููุงูู ููุญูู ุงูุฃุณุฆูุฉ ุงูุฐูู",
                mainSubtitle: "ูุฑุฌุนู ุงูุดุงูู ูุฅุชูุงู ุงูุฃุฏุงุฉุ ูู ููู ุฃููุงุน ุงูุฃุณุฆูุฉ ูุงุณุชุฎุฏุงู ุงููุณููุ ุฅูู ุชูููุฏ ุงูุชูุณููุงุช ุจุงุณุชุฎุฏุงู ุงูุจุฑููุจุชุงุช ุงูุงุญุชุฑุงููุฉ.",
                langSwitcher: "English",
                tabs: [
                    { id: 'guide', icon: '<i class="fas fa-list-alt"></i>', text: 'ุงูุฃููุงุน ูุงููุณูู' },
                    { id: 'workflow', icon: '<i class="fas fa-project-diagram"></i>', text: 'ุฎุทูุงุช ุงูุงุณุชุฎุฏุงู' },
                    { id: 'advanced', icon: '<i class="fas fa-cogs"></i>', text: 'ููุฒุงุช ูุชูุฏูุฉ' },
                    { id: 'prompts', icon: '<i class="fas fa-magic"></i>', text: 'ุงูุจุฑููุจุชุงุช' },
                    { id: 'faq', icon: '<i class="fas fa-question-circle"></i>', text: 'ุฃุณุฆูุฉ ุดุงุฆุนุฉ' }
                ],
                guideTitle1: '<i class="fas fa-list-alt text-purple-600"></i>ุฃููุงุน ุงูุฃุณุฆูุฉ ุงููุฏุนููุฉ',
                guideTitle2: '<i class="fas fa-tags text-purple-600"></i>ูุฑุฌุน ุงููุณูู (Tags) ุงููุงูู',
                tagsTableHeader: ['ุงููุณู', 'ุงููุตู', 'ูุซุงู ูู ุฏุฑุณ (ููุฒูุงุก: "ุงูุญุฑูุฉ")'],
                workflowTitle: "ุฎุทูุงุช ุงูุงุณุชุฎุฏุงู ูุณููุงุฑูููุงุช ุงูุนูู",
                advancedTitle: "ููุฒุงุช ูุชูุฏูุฉ ูุชูุงุตูู ุชูููุฉ",
                promptsTitle1: "ุงูู Prompt ุงูุฑุฆูุณู ุงูุดุงูู (Master Prompt)",
                promptsSubtitle1: "ุงูุฃููู ูุงูุฃูุซุฑ ูุฑููุฉ. ุงุณุชุฎุฏูู ูุชุญููู ุฏูุนุฉ ูู ุงูุฃุณุฆูุฉ ุงููุฎุชูุทุฉ ูู ุฃููุงุน ูุฎุชููุฉ ูู ูุฑุฉ ูุงุญุฏุฉ.",
                promptsTitle2: "Prompts ูุฎุตุตุฉ ููู ููุน",
                promptsSubtitle2: "ุงุณุชุฎุฏู ูุฐู ุงูุฃูุงูุฑ ุงููุฎุตุตุฉ ุฅุฐุง ููุช ุชุฑูุฏ ุชุญููู ูุฌููุนุฉ ูู ุฃุณุฆูุฉ ูู ููุน ูุงุญุฏ ููุท ููุชุงุฆุฌ ุฃูุซุฑ ุฏูุฉ.",
                faqTitle: "ุฃุณุฆูุฉ ุดุงุฆุนุฉ ูุญู ุงููุดููุงุช",
                footerP1: "ุชู ุชุตููู ูุฐุง ุงูุฏููู ูุชุณููู ุงุณุชุฎุฏุงู \"ูุญูู ุงูุฃุณุฆูุฉ ุงูุฐูู\".",
                footerP2: "ยฉ 2025 - ุจุงูุชูููู ูู ุนูููู!",
                copyBtnText: "ูุณุฎ",
                copiedBtnText: "ุชู ุงููุณุฎ!",
                exampleSimple: "ูุซุงู ุจุณูุท:",
                exampleLesson: "ูุซุงู ูู ุฏุฑุณ:",
                noExample: "ูุง ููุฌุฏ ูุซุงู ุชุทุจููู ููุฐุง ุงููููู",
                questionTypes: questionTypes.map(q => ({...q})),
                tags: tags,
                workflowSteps: workflowSteps,
                faqs: faqs,
                advancedTopics: advancedTopics,
                masterPrompt: `ุฃูุช ุฎุจูุฑ ูู ุชูุณูู ุงููุญุชูู ุงูุฃูุงุฏููู. ูููุชู ูู ุชุญููู ูุตูุต ุงูุฃุณุฆูุฉ ุงูุฎุงู ูุบูุฑ ุงูููุธูุฉ ุจุฏูุฉ ุฅูู ุชูุณูู ููุงุณู ูุณุชุฎุฏู ุงููุณูู.

**ุงูุชุนูููุงุช ุงูุฃุณุงุณูุฉ:**
1.  **ุงูุชุดู ูู ุณุคุงู** ูู ุงููุต ุงูููุฏู.
2.  **ุญุฏุฏ ููุน ุงูุณุคุงู ุชููุงุฆููุง** ููู ุณุคุงู ูู ุงููุงุฆูุฉ ุงูุชุงููุฉ: \`mcq\`, \`mrq\`, \`matching\`, \`gapText\`, \`oq\`, \`string\`, \`frq\`, \`frq_ai\`, \`input_box\`.
3.  **ูุณูู ูู ุณุคุงู** ููููุง ููููุงุนุฏ ุงูุตุงุฑูุฉ ุฃุฏูุงู.
4.  **ุงูุตู ุจูู ูู ูุชูุฉ ุณุคุงู ููุชููุฉ** ุจุงุณุชุฎุฏุงู \`---\`.

**ููุงุนุฏ ุงูุชูุณูู ุญุณุจ ููุน ุงูุณุคุงู:**

* **ูู MCQ/MRQ:**
   * ุงุจุฏุฃ ุจู \`type: mcq\` ุฃู \`type: mrq\`.
   * ุงุณุชุฎุฏู \`[STEM]\` ููุต ุงูุณุคุงู.
   * ุงุณุชุฎุฏู \`[CHOICES]\` ููุฎูุงุฑุงุช.
   * ุถุน ุนูุงูุฉ \`*\` ูุจู ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ ุงููุญูุฏุฉ ูู MCQ.
   * ุถุน ุนูุงูุฉ \`*\` ูุจู ูู ุงูุฅุฌุงุจุงุช ุงูุตุญูุญุฉ ูู MRQ.
   * ุถุน ุนูุงูุฉ \`-\` ูุจู ูู ุงูุฅุฌุงุจุงุช ุงูุฎุงุทุฆุฉ.

* **ูู Matching:**
   * ุงุจุฏุฃ ุจู \`type: matching\`.
   * ุงุณุชุฎุฏู \`[STEM]\` ููุชูุฌูู.
   * ุงุณุชุฎุฏู \`[MATCHING_PAIRS]\` ููุฃุฒูุงุฌ.
   * ุงูุตู ุจูู ูู ุฒูุฌ ุจุญุฑู \`|\` (ูุซุงู: \`ูุตุทูุญ | ุชุนุฑูู\`).

* **ูู GapText:**
   * ุงุจุฏุฃ ุจู \`type: gapText\`.
   * ูู \`[STEM]\`ุ ุงุจุญุซ ุนู ุฃู ุชุณูุณู ุทููู ูู ุงูุดุฑุทุงุช ุงูุณูููุฉ ุฃู ุงูุนุงุฏูุฉ (ูุซู \`____\` ุฃู \`ูููููููููููู\`) ู**ุงุณุชุจุฏูู ุจูุณู \`[BLANK]\`**.
   * ุงุฐูุฑ ุงูุฅุฌุงุจุงุช ุงูุตุญูุญุฉ ุจุงูุชุฑุชูุจ ุชุญุช \`[GAPS]\`ุ ูู ูุงุญุฏุฉ ูู ุณุทุฑ ุฌุฏูุฏ.

* **ูู Ordering (OQ):**
   * ุงุจุฏุฃ ุจู \`type: oq\`.
   * ุงุณุชุฎุฏู \`[STEM]\` ููุชูุฌูู.
   * ุชุญุช \`[CHOICES]\`ุ ุงุฐูุฑ ุงูุนูุงุตุฑ **ุจุงูุชุฑุชูุจ ุงูุตุญูุญ**ุ ูู ูููุง ูุณุจูู ุจู \`-\`.

* **ูู String/FRQ/FRQ_AI:**
   * ุงุจุฏุฃ ุจุงูููุน ุงูููุงุณุจ (\`type: string\`ุ ุฅูุฎ).
   * ุงุณุชุฎุฏู \`[STEM]\` ููุณุคุงู.
   * ุถุน ุงูุฅุฌุงุจุฉ ุงููููุฐุฌูุฉ ุชุญุช \`[ANSWER]\`.

* **ูู Input Box:**
   * ุงุจุฏุฃ ุจู \`type: input_box\`.
   * ุงุณุชุฎุฏู \`[STEM]\` ููุณุคุงู.
   * ุชุญุช \`[ANSWER]\`ุ ูุฏู ุงููููุฉุ ูุชุจูุนุฉ ุจู \`|\`ุ ุซู ุงููุญุฏุฉ (ูุซุงู: \`9.8 | ู/ุซยฒ\`).

**ุงููุต ุงููุทููุจ ุชุญูููู:**
\`\`\`
[!! ุงูุตู ููุง ูุต ุงูุฃุณุฆูุฉ ุงูุฎุงู !!]
\`\`\`

**ุงููุงุชุฌ ุงูููุณู:**`,
                specificPrompts: [
                    { title: '1. ูุชุญููู ุณุคุงู ุงุฎุชูุงุฑ ูู ูุชุนุฏุฏ (MCQ)', code: 'ุฃูุช ุฎุจูุฑ ุชูุณูู. ุญููู ุงููุต ุงูุฎุงู ุงูุชุงูู ุฅูู ุชูุณูู MCQ ููุงุณู.\n- ูุฌุจ ุฃู ูุจุฏุฃ ุงูุชูุณูู ุจู `type: mcq`.\n- ุงุณุชุฎุฏู `[STEM]` ููุณุคุงู.\n- ุงุณุชุฎุฏู `[CHOICES]` ููุฎูุงุฑุงุช.\n- ูุฌุจ ุฃู ูุจุฏุฃ ุงูุฎูุงุฑ ุงูุตุญูุญ ุงููุญูุฏ ุจู `*`.\n- ูุฌุจ ุฃู ุชุจุฏุฃ ุฌููุน ุงูุฎูุงุฑุงุช ุงูุฎุงุทุฆุฉ ุงูุฃุฎุฑู ุจู `-`.\n- ุงูุตู ุงููุชูุฉ ุงูููุณูุฉ ุงูููุงุฆูุฉ ุจู `---`.\n\nุงููุต ุงูุฎุงู:\n[!! ุงูุตู ููุง ุณุคุงู ุงูู MCQ ุงูุฎุงู !!]\n\nุงููุต ุงูููุณู:' },
                    { title: '2. ูุชุญููู ุณุคุงู ููุก ุงููุฑุงุบุงุช (GapText)', code: 'ุฃูุช ุฎุจูุฑ ุชูุณูู. ุญููู ุงููุต ุงูุฎุงู ุงูุชุงูู ุฅูู ุชูุณูู GapText ููุงุณู.\n- ูุฌุจ ุฃู ูุจุฏุฃ ุงูุชูุณูู ุจู `type: gapText`.\n- ูู `[STEM]`ุ ุงุณุชุจุฏู ุฃู ุชุณูุณู ุทููู ูู ุงูุดุฑุทุงุช ุงูุนุงุฏูุฉ ุฃู ุงูุณูููุฉ (ูุซู `ูููููููููููู` ุฃู `____`) ุจูุณู `[BLANK]`.\n- ุงุฐูุฑ ุงูุฅุฌุงุจุงุช ุงูุตุญูุญุฉ ุจุงูุชุฑุชูุจ ุชุญุช ูุณู `[GAPS]`ุ ูู ูููุง ูู ุณุทุฑ ุฌุฏูุฏ.\n- ุงูุตู ุงููุชูุฉ ุงูููุณูุฉ ุงูููุงุฆูุฉ ุจู `---`.\n\nุงููุต ุงูุฎุงู:\n[!! ุงูุตู ููุง ุณุคุงู ููุก ุงููุฑุงุบุงุช ุงูุฎุงู !!]\n\nุงููุต ุงูููุณู:' },
                    { title: '3. ูุชุญููู ุณุคุงู ุชูุตูู (Matching)', code: 'ุฃูุช ุฎุจูุฑ ุชูุณูู. ุญููู ุงููุต ุงูุฎุงู ุงูุชุงูู ุฅูู ุชูุณูู Matching ููุงุณู.\n- ูุฌุจ ุฃู ูุจุฏุฃ ุงูุชูุณูู ุจู `type: matching`.\n- ุงุณุชุฎุฏู `[STEM]` ููุชูุฌูู.\n- ุถุน ุงูุฃุฒูุงุฌ ุงููุชุทุงุจูุฉ ุจุดูู ุตุญูุญ ุชุญุช `[MATCHING_PAIRS]`.\n- ูุฌุจ ุฃู ูููู ูู ุฒูุฌ ูู ุณุทุฑ ุฌุฏูุฏุ ููุตููุงู ุจุญุฑู `|`.\n- ุงูุตู ุงููุชูุฉ ุงูููุณูุฉ ุงูููุงุฆูุฉ ุจู `---`.\n\nุงููุต ุงูุฎุงู:\n[!! ุงูุตู ููุง ุณุคุงู ุงูุชูุตูู ุงูุฎุงู !!]\n\nุงููุต ุงูููุณู:' },
                    { title: '4. ูุชุญููู ุณุคุงู ุชุฑุชูุจ (OQ)', code: 'ุฃูุช ุฎุจูุฑ ุชูุณูู. ุญููู ุงููุต ุงูุฎุงู ุงูุชุงูู ุฅูู ุชูุณูู ุณุคุงู ุงูุชุฑุชูุจ (OQ) ููุงุณู.\n- ูุฌุจ ุฃู ูุจุฏุฃ ุงูุชูุณูู ุจู `type: oq`.\n- ุงุณุชุฎุฏู `[STEM]` ููุชูุฌูู.\n- ุชุญุช `[CHOICES]`ุ ุงุฐูุฑ ุฌููุน ุงูุนูุงุตุฑ ุจุงูุชุฑุชูุจ ุงูุตุญูุญ.\n- ูุฌุจ ุฃู ูููู ูู ุนูุตุฑ ูู ุงููุงุฆูุฉ ูุณุจูููุง ุจู `-`.\n- ุงูุตู ุงููุชูุฉ ุงูููุณูุฉ ุงูููุงุฆูุฉ ุจู `---`.\n\nุงููุต ุงูุฎุงู:\n[!! ุงูุตู ููุง ุณุคุงู ุงูุชุฑุชูุจ ุงูุฎุงู !!]\n\nุงููุต ุงูููุณู:' }
                ]
            },
            en: {
                mainTitle: "๐ The Complete Interactive Guide for the Smart Question Converter",
                mainSubtitle: "Your comprehensive reference for mastering the tool, from understanding question types and tags to generating formats using professional prompts.",
                langSwitcher: "ุงูุนุฑุจูุฉ",
                tabs: [
                    { id: 'guide', icon: '<i class="fas fa-list-alt"></i>', text: 'Types & Tags' },
                    { id: 'workflow', icon: '<i class="fas fa-project-diagram"></i>', text: 'Workflow' },
                    { id: 'advanced', icon: '<i class="fas fa-cogs"></i>', text: 'Advanced Features' },
                    { id: 'prompts', icon: '<i class="fas fa-magic"></i>', text: 'Prompts' },
                    { id: 'faq', icon: '<i class="fas fa-question-circle"></i>', text: 'FAQ' }
                ],
                guideTitle1: '<i class="fas fa-list-alt text-purple-600"></i>Supported Question Types',
                guideTitle2: '<i class="fas fa-tags text-purple-600"></i>Complete Tags Reference',
                tagsTableHeader: ['Tag', 'Description', 'Example from Physics: "Motion"'],
                workflowTitle: "Workflow and Usage Scenarios",
                advancedTitle: "Advanced Features & Technical Details",
                promptsTitle1: "Master Prompt",
                promptsSubtitle1: "The most powerful and flexible prompt. Use it to convert a mixed batch of questions of different types at once.",
                promptsTitle2: "Specific Prompts for Each Type",
                promptsSubtitle2: "Use these custom prompts if you want to convert a set of questions of a single type for more accurate results.",
                faqTitle: "Frequently Asked Questions & Troubleshooting",
                footerP1: "This guide was designed to facilitate the use of the \"Smart Question Converter\".",
                footerP2: "ยฉ 2025 - Good luck with your work!",
                copyBtnText: "Copy",
                copiedBtnText: "Copied!",
                exampleSimple: "Simple Example:",
                exampleLesson: "Lesson Example:",
                noExample: "No practical example for this structure",
                questionTypes: [
                     { id: 'mcq', name: '1. Multiple Choice Question (MCQ)', desc: 'Used when there is only one correct answer among several options.', exampleLesson: 'type: mcq\n[STEM]\nWhat is the general form of a quadratic function?\n[CHOICES]\n- f(x) = ax + b\n* f(x) = axยฒ + bx + c\n- f(x) = a/x' },
                     { id: 'mrq', name: '2. Multiple Response Question (MRQ)', desc: 'Used when there can be more than one correct answer.', exampleLesson: 'type: mrq\n[STEM]\nWhat are the properties of a quadratic function?\n[CHOICES]\n* It has a vertex (a peak or a valley)\n- It is always increasing\n* It intersects the y-axis once' },
                     { id: 'matching', name: '3. Matching Question', desc: 'Used to link items from two groups.', exampleLesson: 'type: matching\n[STEM]\nMatch the function to its description:\n[MATCHING_PAIRS]\nf(x)=xยฒ | Quadratic\nf(x)=2x | Linear' },
                     { id: 'gapText', name: '4. Gapped Text Question', desc: 'Used to test knowledge of specific words within a context.', exampleLesson: 'type: gapText\n[STEM]\nThe function f(x) = xยฒ + [BLANK]x + 4 has [BLANK] roots.\n[GAPS]\n4\nreal and equal' },
                     { id: 'oq', name: '5. Ordering Question', desc: 'Used to arrange a set of items according to a specific criterion.', exampleLesson: 'type: oq\n[STEM]\nOrder the steps to solve a quadratic function:\n[CHOICES]\n- Calculate the discriminant\n- Calculate the roots using the formula\n- Draw the graph' },
                     { id: 'string', name: '6. String Question', desc: 'For questions requiring a short, very specific answer.', exampleLesson: 'type: string\n[STEM]\nWhat is the coefficient of a in f(x)=3xยฒ?\n[ANSWER]\n3' },
                     { id: 'frq', name: '7. Free Response Question (FRQ)', desc: 'For essay questions requiring a long, detailed answer.', exampleLesson: 'type: frq\n[STEM]\nExplain how to solve axยฒ+bx+c=0.\n[ANSWER]\nUse the formula x=[-bยฑsqrt(bยฒ-4ac)]/(2a)' },
                     { id: 'frq_ai', name: '8. AI-Graded Free Response (FRQ_AI)', desc: 'Same as FRQ, but intended for automatic grading by an AI.', exampleLesson: 'type: frq_ai\nai_template_id: 456\n[STEM]\nSolve the equation xยฒ-4x+3=0 and explain.\n[ANSWER]\n(x-1)(x-3)=0, roots are 1 and 3.' },
                     { id: 'input_box', name: '9. Input Box Question', desc: 'For questions whose answer is a specific number, with an optional unit.', exampleLesson: 'type: input_box\n[STEM]\nWhat is the acceleration of gravity?\n[ANSWER]\n9.8 | m/sยฒ' },
                     { id: 'multipart', name: '10. Multi-part Questions', desc: 'A structure to group several questions under a single introduction.' }
                ].map(en_q => ({...questionTypes.find(q => q.id === en_q.id), ...en_q})),
                tags: [
                    { tag: '`[STEM]`', desc: 'Contains the main text of the question.', example: '`[STEM]\nWhat is the formula for velocity?`' },
                    { tag: '`[CHOICES]`', desc: 'Contains the list of options.', example: '`[CHOICES]\n* v = d/t\n- v = d*t`' },
                    { tag: '`[ANSWER]`', desc: 'Contains the answer for `String`, `FRQ`, and `Input Box` questions.', example: '`[ANSWER]\n9.8 | m/sยฒ`' },
                    { tag: '`[GAPS]`', desc: 'Contains the gap-fill answers in order, each on a new line.', example: '`[GAPS]\nAcceleration\n9.8`' },
                    { tag: '`[MATCHING_PAIRS]`', desc: 'Contains the matching pairs, separated by `|`.', example: '`[MATCHING_PAIRS]\nNewton | Force`' },
                    { tag: '`[BLANK]`', desc: 'Represents a blank space within the question text to be filled.', example: '`Force = mass ร [BLANK].`' },
                    { tag: '`[STATEMENT]`', desc: 'Contains the introduction for a multi-part question.', example: '`[STATEMENT]\nConsidering the laws of motion...`' },
                    { tag: '`[PART]`', desc: 'Acts as a separator between parts of a multi-part question.', example: '`[PART]\ntype: mcq\n...`' },
                    { tag: '`[U]...[/U]`', desc: 'Used to underline text for emphasis.', example: '`[U]Acceleration is 9.8 m/sยฒ[/U]`' },
                    { tag: '`---`', desc: '**Mandatory separator** between each question.', example: '`---` (placed after each complete question).' }
                ],
                workflowSteps: [
                    { title: 'Scenario 1: The Standard Method (Most Accurate)', icon: '๐ฏ', content: 'This is the recommended method and guarantees 100% correct results. It relies on writing the question using simple, specific "Tags" like `type: mcq`, `[STEM]`, `[CHOICES]`, and using `---` to separate questions. After writing, click "Smart Analyze" to preview, then "Convert to JSON" for the final result.' },
                    { title: 'Scenario 2: Handling Raw Text (with AI Assistance)', icon: 'โจ', content: 'If you have unstructured text (e.g., from a Word file), paste it into the editor and click the "๐ Enhance with AI" button. The AI will restructure the text into the standard format, after which you can proceed by clicking "Smart Analyze". (This feature requires an API key).' },
                    { title: 'Scenario 3: Generating Questions from Scratch', icon: '๐', content: 'If you have content (like a lesson paragraph) and want to create questions from it, click "๐ Generate Questions". In the new window, paste the text or upload an image, then specify the number and type of questions desired. The AI will generate the questions and add them to the editor. (This feature requires an API key).' }
                ],
                faqs: [
                    { q: 'The AI buttons are not working or give an error.', a: '99% of the time, the issue is with the API key. Ensure you have pasted it correctly in the designated field and that there are no extra spaces at the beginning or end.' },
                    { q: '"Smart Analyze" gives strange or incorrect results.', a: 'Check the original text. Did you forget to put the `---` separator between questions? Is there a typo in one of the tags (e.g., `[STME]` instead of `[STEM]`)?' },
                    { q: 'Nothing appears when I click "Convert to JSON".', a: 'Make sure you have clicked "Smart Analyze" first and that the preview pane is displaying the questions correctly. The tool will not convert anything that has not been analyzed and reviewed first. Look for the warning icon (โ๏ธ) in the preview.' },
                    { q: 'What is the best option for exporting multiple questions?', a: 'Always use the "๐๏ธ Download as ZIP" button. This option downloads a compressed file containing each question as a separate .json file, plus a summary CSV file, which is the most suitable option for bulk work.' }
                ],
                advancedTopics: [
                    { title: '"Under the Hood": How Does the Tool Work?', content: 'The tool operates in several stages: <strong>1. Splitting:</strong> The full text is divided into separate question blocks using the `---` separator. <strong>2. Parsing:</strong> The tool uses regular expressions (Regex) to identify tags like `type:` and `[STEM]` and extract the content for each part. <strong>3. State Management:</strong> The parsed questions are stored in memory (as a JavaScript object), allowing for instant preview updates. <strong>4. JSON Conversion:</strong> When you click the convert button, the stored data is transformed into the final JSON structure required by the system, adding metadata like language and country.'},
                    { title: 'Pro Tips & Productivity Secrets', content: '<ul><li class="mb-2"><strong>Direct Editing:</strong> In the preview, you can click directly on any choice in MCQ/MRQ questions to change the correct answer without manually editing the text.</li><li class="mb-2"><strong>Bulk Editing with CSV:</strong> The CSV editor is the fastest way to assign a `Lesson ID` or `Question ID` to dozens of questions at once.</li><li class="mb-2"><strong>Auto-Save:</strong> Your work is automatically saved in the browser\'s `localStorage`, so it\'s safe if you close the page, but it\'s limited to that browser and device only.</li><li class="mb-2"><strong>Closing Shortcut:</strong> Use the `Esc` key to instantly close any pop-up window (modal).</li></ul>'},
                    { title: 'Guide to Handling Equations (LaTeX)', content: 'The tool uses the MathLive library to display and edit equations. <strong>The key difference:</strong> Use single backticks (` `) for inline equations that appear within the text, and use double backticks (`` ``) for larger equations that appear on their own line (display). You can click on any equation in the preview to open an easy-to-use visual editor.'},
                    { title: 'How Validation Works', content: 'The warning icon (โ๏ธ) appears when the tool detects a logical error in your question. This is done via an instant text check. <strong>The most common detected errors:</strong> An MCQ question with no correct answer (*), or a Matching question with a line not separated by the `|` symbol. This feature helps prevent errors before exporting the final file.'},
                    { title: 'Structure of the Exported ZIP File', content: 'When using the "Download as ZIP" option, you will get a compressed file containing: <br><strong>1. `JSONS` folder:</strong> Inside, each question is a separate `.json` file, named with its ID. <br><strong>2. `question_set_summary.csv` file:</strong> A spreadsheet that summarizes all questions and their metadata in one place for easy review.'}
                ],
                masterPrompt: `You are an expert academic content formatter. Your task is to meticulously convert raw, unstructured question text into a standardized, tagged format.

**Core Instructions:**
1.  **Detect every question** in the provided text.
2.  **Auto-detect the question type** for each question from the following list: \`mcq\`, \`mrq\`, \`matching\`, \`gapText\`, \`oq\`, \`string\`, \`frq\`, \`frq_ai\`, \`input_box\`.
3.  **Format EACH question** according to the strict rules below.
4.  **Separate each complete question block** with \`---\`.

**Formatting Rules by Question Type:**

* **For MCQ/MRQ:**
   * Start with \`type: mcq\` or \`type: mrq\`.
   * Use \`[STEM]\` for the question text.
   * Use \`[CHOICES]\` for the options.
   * Prefix the single correct answer with \`*\` for MCQ.
   * Prefix ALL correct answers with \`*\` for MRQ.
   * Prefix all incorrect answers with \`-\`.

* **For Matching:**
   * Start with \`type: matching\`.
   * Use \`[STEM]\` for the instruction.
   * Use \`[MATCHING_PAIRS]\` for the pairs.
   * Separate each pair with a \`|\` character (e.g., \`Term | Definition\`).

* **For GapText:**
   * Start with \`type: gapText\`.
   * In the \`[STEM]\`, find any long underscore/dash sequences (like \`____\` or \`ูููููููููููู\`) and **replace them with the \`[BLANK]\` tag**.
   * List the correct answers in order under \`[GAPS]\`, each on a new line.

* **For Ordering (OQ):**
   * Start with \`type: oq\`.
   * Use \`[STEM]\` for the instruction.
   * Under \`[CHOICES]\`, list the items **in the correct order**, each prefixed with \`-\`.

* **For String/FRQ/FRQ_AI:**
   * Start with the appropriate type (\`type: string\`, etc.).
   * Use \`[STEM]\` for the question.
   * Place the model answer under \`[ANSWER]\`.

* **For Input Box:**
   * Start with \`type: input_box\`.
   * Use \`[STEM]\` for the question.
   * Under \`[ANSWER]\`, provide the value, followed by \`|\`, then the unit (e.g., \`9.8 | m/sยฒ\`).

**Input Text to Convert:**
\`\`\`
[!! Paste raw question text here !!]
\`\`\`

**Formatted Output:**`,
                specificPrompts: [
                    { title: '1. To convert an MCQ question', code: 'You are a formatting expert. Convert the following raw text into a standard MCQ format.\n- The format must start with `type: mcq`.\n- Use `[STEM]` for the question.\n- Use `[CHOICES]` for the options.\n- The single correct option must start with `*`.\n- All other incorrect options must start with `-`.\n- Separate the final formatted block with `---`.\n\nRAW TEXT:\n[!! Paste the raw MCQ question here !!]\n\nFORMATTED TEXT:' },
                    { title: '2. To convert a GapText question', code: 'You are a formatting expert. Convert the following raw text into a standard GapText format.\n- The format must start with `type: gapText`.\n- In the `[STEM]`, replace any long dash or underscore sequences (e.g., `ูููููููููููู` or `____`) with the `[BLANK]` tag.\n- List the correct answers in order under the `[GAPS]` tag, each on a new line.\n- Separate the final formatted block with `---`.\n\nRAW TEXT:\n[!! Paste the raw GapText question here !!]\n\nFORMATTED TEXT:' },
                    { title: '3. To convert a Matching question', code: 'You are a formatting expert. Convert the following raw text into a standard Matching format.\n- The format must start with `type: matching`.\n- Use `[STEM]` for the instruction.\n- Place the correctly matched pairs under `[MATCHING_PAIRS]`.\n- Each pair must be on a new line, separated by a `|` character.\n- Separate the final formatted block with `---`.\n\nRAW TEXT:\n[!! Paste the raw Matching question here !!]\n\nFORMATTED TEXT:' },
                    { title: '4. To convert an Ordering question (OQ)', code: 'You are a formatting expert. Convert the following raw text into a standard Ordering Question (OQ) format.\n- The format must start with `type: oq`.\n- Use `[STEM]` for the instruction.\n- Under `[CHOICES]`, list all items IN THE CORRECT ORDER.\n- Each item in the list must be prefixed with `-`.\n- Separate the final formatted block with `---`.\n\nRAW TEXT:\n[!! Paste the raw Ordering question here !!]\n\nFORMATTED TEXT:' }
                ]
            }
        };

        let currentLang = 'ar';

        function renderContent(lang) {
            const T = translations[lang];
            const tabsContainer = document.getElementById('tabs');

            // UX Improvement: Preserve active tab across language switches
            const activeTabEl = tabsContainer.querySelector('.active');
            const activeTabId = activeTabEl ? activeTabEl.dataset.tab : 'guide';

            // Set document lang and dir
            document.documentElement.lang = lang;
            document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';

            // Update static text
            document.getElementById('main-title').textContent = T.mainTitle;
            document.getElementById('main-subtitle').textContent = T.mainSubtitle;
            document.getElementById('lang-switcher').innerHTML = `<i class="fas fa-language"></i><span>${T.langSwitcher}</span>`;
            document.getElementById('guide-title-1').innerHTML = T.guideTitle1;
            document.getElementById('guide-title-2').innerHTML = T.guideTitle2;
            document.getElementById('workflow-title').textContent = T.workflowTitle;
            document.getElementById('advanced-title').textContent = T.advancedTitle;
            document.getElementById('prompts-title-1').textContent = T.promptsTitle1;
            document.getElementById('prompts-subtitle-1').textContent = T.promptsSubtitle1;
            document.getElementById('prompts-title-2').textContent = T.promptsTitle2;
            document.getElementById('prompts-subtitle-2').textContent = T.promptsSubtitle2;
            document.getElementById('faq-title').textContent = T.faqTitle;
            document.getElementById('footer-p1').textContent = T.footerP1;
            document.getElementById('footer-p2').textContent = T.footerP2;

            // Render tabs
            tabsContainer.innerHTML = '';
            T.tabs.forEach((tab) => {
                const button = document.createElement('button');
                button.dataset.tab = tab.id;
                button.className = `tab-btn flex items-center justify-center gap-2 p-3 rounded-lg border-2 border-transparent transition-all duration-300`;
                button.innerHTML = `${tab.icon}<span>${tab.text}</span>`;
                tabsContainer.appendChild(button);
            });

            // Restore active tab
            document.querySelector(`#tabs .tab-btn[data-tab="${activeTabId}"]`).classList.add('active');
            document.querySelector('#tab-contents .active').classList.remove('active');
            document.getElementById(activeTabId).classList.add('active');

            // Re-attach tab listener
            tabsContainer.addEventListener('click', handleTabClick);

            // Render accordion
            const accordionContainer = document.getElementById('accordion-container');
            accordionContainer.innerHTML = '';
            T.questionTypes.forEach(q => { 
                const item = document.createElement('div');
                item.className = 'border border-slate-200 rounded-lg overflow-hidden glow-card';
                item.innerHTML = `
                    <button class="accordion-header w-full text-right p-4 bg-slate-50 hover:bg-slate-100 flex justify-between items-center transition">
                        <span class="font-bold text-lg text-slate-700">${q.name}</span>
                        <i class="fas fa-chevron-down accordion-icon text-purple-600 transition-transform duration-300"></i>
                    </button>
                    <div class="accordion-content bg-white p-4 border-t border-slate-200" style="display: none;">
                        <p class="text-slate-600 mb-4">${q.desc}</p>
                        <div class="grid md:grid-cols-2 gap-4 text-sm">
                            <div>
                                <h4 class="font-semibold mb-2 text-purple-700">${T.exampleSimple}</h4>
                                <pre class="bg-slate-100 p-3 rounded-md text-slate-800 whitespace-pre-wrap"><code>${q.exampleSimple || T.noExample}</code></pre>
                            </div>
                            <div>
                                <h4 class="font-semibold mb-2 text-purple-700">${T.exampleLesson}</h4>
                                <pre class="bg-slate-100 p-3 rounded-md text-slate-800 whitespace-pre-wrap"><code>${q.exampleLesson || T.noExample}</code></pre>
                            </div>
                        </div>
                    </div>
                `;
                accordionContainer.appendChild(item);
            });

            // Render tags table
            const tagsTableHead = document.getElementById('tags-table-head');
            tagsTableHead.innerHTML = `
                <tr class="bg-slate-100">
                    <th class="p-3 font-bold uppercase text-slate-600 border-b border-slate-200">${T.tagsTableHeader[0]}</th>
                    <th class="p-3 font-bold uppercase text-slate-600 border-b border-slate-200">${T.tagsTableHeader[1]}</th>
                    <th class="p-3 font-bold uppercase text-slate-600 border-b border-slate-200">${T.tagsTableHeader[2]}</th>
                </tr>`;
            const tagsTableBody = document.getElementById('tags-table-body');
            tagsTableBody.innerHTML = '';
            T.tags.forEach(t => {
                const row = document.createElement('tr');
                row.className = 'hover:bg-slate-50';
                row.innerHTML = `
                    <td class="p-3 border-b border-slate-200 font-mono font-semibold text-purple-700">${t.tag}</td>
                    <td class="p-3 border-b border-slate-200 text-slate-600">${t.desc}</td>
                    <td class="p-3 border-b border-slate-200 text-slate-500 text-sm" dir="ltr"><pre class="bg-slate-100 p-2 rounded"><code>${t.example}</code></pre></td>
                `;
                tagsTableBody.appendChild(row);
            });

            // Render workflow
            const workflowContainer = document.getElementById('workflow-container');
            workflowContainer.innerHTML = '';
            T.workflowSteps.forEach(step => {
                const div = document.createElement('div');
                div.className = 'p-4 border-r-4 border-purple-500 bg-purple-50 rounded-lg glow-card';
                div.innerHTML = `
                    <h3 class="font-bold text-xl mb-2 text-purple-900 flex items-center gap-3"><span class="text-3xl">${step.icon}</span>${step.title}</h3>
                    <p class="text-purple-800">${step.content}</p>
                `;
                workflowContainer.appendChild(div);
            });

            // Render advanced topics
            const advancedAccordion = document.getElementById('advanced-accordion');
            advancedAccordion.innerHTML = '';
            T.advancedTopics.forEach(topic => { 
                const div = document.createElement('div');
                div.className = 'border border-slate-200 rounded-lg glow-card';
                div.innerHTML = `
                    <button class="accordion-header w-full text-right p-4 flex justify-between items-center">
                        <span class="font-semibold text-slate-700">${topic.title}</span>
                        <i class="fas fa-chevron-down accordion-icon text-slate-500 transition-transform duration-300"></i>
                    </button>
                    <div class="accordion-content p-4 pt-0 text-slate-600" style="display: none;">
                        <div class="prose max-w-none">${topic.content}</div>
                    </div>
                `;
                advancedAccordion.appendChild(div);
            });

            // Render master prompt
            document.getElementById('master-prompt-container').innerHTML = `
                <div class="prompt-code bg-slate-800 rounded-xl text-white p-4 glow-card">
                    <button class="copy-btn" onclick="copyCode(this)">
                        <i class="far fa-copy"></i>
                        <span>${T.copyBtnText}</span>
                    </button>
                    <pre class="whitespace-pre-wrap text-sm" dir="ltr"><code>${T.masterPrompt}</code></pre>
                </div>`;

            // Render specific prompts
            const specificPromptsContainer = document.getElementById('specific-prompts-container');
            specificPromptsContainer.innerHTML = '';
            T.specificPrompts.forEach(p => {
                const div = document.createElement('div');
                div.innerHTML = `
                    <h3 class="font-bold mb-2 text-lg">${p.title}</h3>
                    <div class="prompt-code bg-slate-800 rounded-xl text-white p-4 glow-card">
                        <button class="copy-btn" onclick="copyCode(this)">
                            <i class="far fa-copy"></i>
                            <span>${T.copyBtnText}</span>
                        </button>
                        <pre class="whitespace-pre-wrap text-sm" dir="ltr"><code>${p.code}</code></pre>
                    </div>
                `;
                specificPromptsContainer.appendChild(div);
            });

            // Render FAQ
            const faqContainer = document.getElementById('faq-container');
            faqContainer.innerHTML = '';
            T.faqs.forEach(faq => {
                const div = document.createElement('div');
                div.className = 'border border-slate-200 rounded-lg glow-card';
                div.innerHTML = `
                    <button class="accordion-header w-full text-right p-4 flex justify-between items-center">
                        <span class="font-semibold text-slate-700">${faq.q}</span>
                        <i class="fas fa-chevron-down accordion-icon text-slate-500 transition-transform duration-300"></i>
                    </button>
                    <div class="accordion-content p-4 pt-0 text-slate-600" style="display: none;">
                        <p>${faq.a}</p>
                    </div>
                `;
                faqContainer.appendChild(div);
            });

            // Re-attach accordion listeners
            document.querySelectorAll('.accordion-header').forEach(header => {
                header.addEventListener('click', handleAccordionClick);
            });
        }

        function handleTabClick(e) {
            const tabButton = e.target.closest('.tab-btn');
            if (!tabButton) return;

            document.querySelector('#tabs .active').classList.remove('active');
            tabButton.classList.add('active');

            document.querySelector('#tab-contents .active').classList.remove('active');
            document.getElementById(tabButton.dataset.tab).classList.add('active');
        }

        function handleAccordionClick(e) {
            const header = e.currentTarget;
            const content = header.nextElementSibling;
            const isActive = header.classList.contains('active');

            if (!isActive) {
                header.classList.add('active');
                content.style.display = 'block';
            } else {
                header.classList.remove('active');
                content.style.display = 'none';
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            currentLang = localStorage.getItem('guideLang') || 'ar';
            renderContent(currentLang);

            document.getElementById('lang-switcher').addEventListener('click', () => {
                currentLang = currentLang === 'ar' ? 'en' : 'ar';
                localStorage.setItem('guideLang', currentLang);
                renderContent(currentLang);
            });
        });

        function copyCode(button) {
            const pre = button.nextElementSibling;
            const code = pre.querySelector('code');
            const textToCopy = code.innerText;

            const tempTextarea = document.createElement('textarea');
            tempTextarea.value = textToCopy;
            document.body.appendChild(tempTextarea);
            tempTextarea.select();

            try {
                document.execCommand('copy');
                const originalText = button.querySelector('span').textContent;
                button.querySelector('span').textContent = translations[currentLang].copiedBtnText;
                button.style.backgroundColor = '#10b981';
                setTimeout(() => {
                    button.querySelector('span').textContent = translations[currentLang].copyBtnText;
                    button.style.backgroundColor = '';
                }, 2000);
            } catch (err) {
                console.error('Fallback: Oops, unable to copy', err);
            }

            document.body.removeChild(tempTextarea);
        }
    </script>
</body>
</html>
